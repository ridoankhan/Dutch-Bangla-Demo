<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Leadschain</title>
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/font-awesome.min.css" rel="stylesheet">
    <link href="./css/datepicker3.css" rel="stylesheet">
    <link href="./css/styles.css" rel="stylesheet">
    <link href="./forntend/css/style.css" rel="stylesheet">
    <link href="./css/jquery-ui.css" rel="stylesheet">

    <!--Custom Font-->
    <link rel="stylesheet" type="text/css" href="../app/forntend/css/mobirise.css" />
    <link rel="stylesheet" href="../app/forntend/css/magnific-popup.css">
    <link rel="stylesheet" type="text/css" href="../app/forntend/css/materialdesignicons.min.css" />
    <style>
        .tableFont {
            font-size: 15px;
        }
        
        #customers {
            font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
            border-collapse: collapse;
            width: 70%;
        }
        
        #customers td {
            border: 1px solid #ddd;
            padding: 8px;
            padding-left: 17%;
        }
        
        #customers tr:nth-child(even) {
            background-color: #f2f2f2;
            padding-left: 8%;
        }
        
        #customers td:nth-child(odd) {
            font-weight: bold;
            padding-left: 10%;
        }
        
        #customers td:nth-child(even) {
            font-size: 10px;
        }
        
        #customers tr:hover {
            background-color: #ddd;
        }
    </style>

</head>

<body>
    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#sidebar-collapse"><span
                        class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span></button>
                <a class="navbar-brand" href="#"><span>LEADS Chain</span></a>

            </div>
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!--/.sidebar-->

    <div class="col-12">
        <div class="col-12">

            <div class="row">
                <div class="col-12">
                    <div class="panel-heading"><img src="../app/img/dbbl_baner.png" class="img-responsive" style="position:absolute;top:100px;left: 50%;
                        transform: translateX(-50%) translateY(-50%);white-space:nowrap" />
                        <div class="panel panel-default">

                            <div class="panel-body">
                                <div class="row">


                                    <!--<div class="col-8">
										<h6 style="text-align: right" id="datetimetxt">
										</h6>
										<h6 style="text-align: left">101:Local Office
											1, Dilkusha Commercial Area, Dhaka-1000,Bangladesh</h6>
										<h6 style="text-align: left">DBBL Swift Code: DBBL BDDH</h6>
										<h6 style="text-align: left">DBBL Call Center: 16216 (24 Hours)</h6>
									</div>
									<div class="col-4">
										<div id="qrCode" style="height:160px; width:160px;" class="pull-right"></div>
									</div>-->

                                </div>
                                <div class="col-md-12">
                                    <br>
                                    <h2 style="text-align:center;font-weight: 600;color:black;"><u><b>Verify Page</b></u></h2>

                                </div>

                                <br>
                                <div class="col-12">
                                    <br>
                                    <br>
                                    <h3 style="margin-top: 2%;color: black;font-weight: 400" class="text-center"><b>Customer Information</b></h3>

                                </div>
                                <br>

                                <div class="col-12">
                                    <table class="table-responsive" style="table-layout: fixed; overflow-x: hidden; margin: 0 auto;color:black; border: 1px solid black;" id="customers">
                                        <tbody>

                                            <tr>

                                                <td style="width: 45%;font-size:initial;color: black;">Full Name</td>
                                                <!-- <td>:</td> -->
                                                <td style="width: 55%"><span id="fullNameIDTd"></span></td>
                                            </tr>

                                            <tr>

                                                <td style="width: 25%;font-size:initial;color: black">Account Number</td>
                                                <!-- <td>:</td> -->
                                                <td style="width: 70%"><span id="accountNumber"></span></td>
                                            </tr>
                                            <tr>

                                                <td style="width: 25%;font-size:initial;color: black">Opening Balance</td>
                                                <!-- <td>:</td> -->
                                                <td style="width: 70%"><span id="openingBalance"></span></td>
                                            </tr>
                                            <tr>

                                                <td style="width: 25%;font-size:initial;color: black">Closing Balance</td>
                                                <!-- <td>:</td> -->
                                                <td style="width: 70%"><span id="closingBalance"></span></td>
                                            </tr>
                                            <tr>

                                                <td style="width: 25%;font-size:initial;color: black">Start Date</td>
                                                <!-- <td>:</td> -->
                                                <td style="width: 70%"><span id="startDate"></span></td>
                                            </tr>
                                            <tr>

                                                <td style="width: 25%;font-size:initial;color: black">End Date</td>
                                                <!-- <td>:</td> -->
                                                <td style="width: 70%"><span id="endDate"></span></td>
                                            </tr>
                                            <tr>

                                                <td style="width: 25%;font-size:initial;color: black">Total Debits Balance</td>
                                                <!-- <td>:</td> -->
                                                <td style="width: 70%"><span id="totalDebit"></span></td>
                                            </tr>

                                            <tr>

                                                <td style="width: 25%;font-size:initial;color: black">Total Credits Balance</td>
                                                <!-- <td>:</td> -->
                                                <td style="width: 70%"><span id="totalCredit"></span></td>
                                            </tr>
                                            <tr>

                                                <td style="width: 25%;font-size:initial;color: black">Credit Counts</td>
                                                <!-- <td>:</td> -->
                                                <td style="width: 70%"><span id="creditCount"></span></td>
                                            </tr>
                                            <tr>

                                                <td style="width: 25%;font-size:initial;color: black">Debit Counts</td>
                                                <!-- <td>:</td> -->
                                                <td style="width: 70%"><span id="debitCounts"></span></td>
                                            </tr>
                                            <tr>

                                                <td style="width: 25%;font-size:initial;color: black">Uncollected Funds</td>
                                                <!-- <td>:</td> -->
                                                <td style="width: 70%"><span id="unCollected"></span></td>
                                            </tr>


                                            <td style="width: 25%;font-size:initial;color: black">Currency</td>
                                            <!-- <td>:</td> -->
                                            <td style="width: 70%"><span id="currencylabel"></span></td>
                                            </tr>

                                        </tbody>
                                    </table>

                                </div>

                                <div class="text-center" style="margin-top: 40px;">
                                    <div><button type="button" class="btn btn-primary" id="verifyButton">Verify</button>
                                    </div>
                                    <br /><br />
                                    <div id="verifyIconSuccess">
                                        <h3 class="mdi mdi-verified" style="color: darkgreen;">Verified</h3>
                                    </div>
                                    <div id="verifyIconFail">
                                        <h3 class="mdi mdi-close-circle-outline text-danger">Not Verified</h3>
                                    </div>
                                    <br /><br />
                                    <div id="one">
                                        <p>Computing Hash Code of local certificate. <i id="iconOne" class="mdi mdi-check-circle-outline"></i></p>
                                    </div>
                                    <div id="two">
                                        <p>Fetching hash in OP_RETURN field form ethereum Blockchain. <i id="iconTwo" class="mdi mdi-check-circle-outline"></i></p>
                                    </div>
                                    <div id="three">
                                        <p>Comparing local and blockchain hashes. <i id="iconThree" class="mdi mdi-check-circle-outline"></i></p>
                                    </div>
                                    <div id="four">
                                        <p>Checking LEADS<i class="mdi mdi-link-variant"></i>chain signature. <i id="iconFour" class="mdi mdi-check-circle-outline"></i></p>
                                    </div>
                                    <div id="five">
                                        <p>Checking not revoked by issuer. <i id="iconFive" class="mdi mdi-check-circle-outline"></i></p>
                                    </div>
                                    <div id="six">
                                        <h3 style="color: darkgreen;">Success! The certificate has been verified. <i id="iconSix" class="mdi mdi-check-circle-outline"></i></p>
                                    </div>
                                    <div>
                                        <p style="overflow: auto">Blockchain Address:
                                            <a href="" id="blockAddress"></a>
                                        </p>
                                    </div>
                                    <ul id="ulEmployee">

                                    </ul>

                                </div>
                            </div>
                            <!-- /.panel-->
                        </div>
                    </div>
                </div>
                <!--/.row-->







            </div>
            <!--/.row-->
        </div>
        <!--/.main-->

        <!--<script src="js/jquery-1.11.1.min.js"></script>-->
        <script src="./js/jquery-3.2.1.min.js"></script>
        <script src="./js/jquery-ui.js"></script>

        <script src="./js/bootstrap.min.js"></script>
        <script src="./js/chart.min.js"></script>
        <script src="./js/chart-data.js"></script>
        <script src="./js/easypiechart.js"></script>
        <script src="./js/easypiechart-data.js"></script>
        <script src="./js/bootstrap-datepicker.js"></script>
        <script src="./js/custom.js"></script>
        <script src="./js/style.js"></script>
        <script src="./js/qrcode.js"></script>

        <script type="text/javascript">
            $(document).ready(function() {
                $("#verifyIconSuccess").hide();
                $("#verifyIconFail").hide();
                $("#one").hide();
                $("#two").hide();
                $("#three").hide();
                $("#four").hide();
                $("#five").hide();
                $("#six").hide();
                $("#iconOne").hide();
                $("#iconTwo").hide();
                $("#iconThree").hide();
                $("#iconFour").hide();
                $("#iconFive").hide();
                $("#iconSix").hide();
                $("#verifyIconFail").hide();


                var getUrlParameter = function getUrlParameter(sParam) {
                    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
                        sURLVariables = sPageURL.split('?'),
                        sParameterName,
                        i;

                    for (i = 0; i < sURLVariables.length; i++) {
                        sParameterName = sURLVariables[i].split('=');

                        if (sParameterName[0] === sParam) {
                            return sParameterName[1] === undefined ? true : sParameterName[1];
                        }
                    }
                };

                $.ajax({
                    type: 'GET',
                    contentType: "application/json",
                    url: "http://localhost:9091/statement/1",
                    success: function(response) {
                        console.log(response);

                        $("#fullNameIDTd").html(response.account.customer.customerName);
                        $("#accountNumber").html(response.account.accountNumber);
                        $("#openingBalance").html(response.opening_balance);
                        $("#closingBalance").html(response.closing_balance);
                        $("#startDate").html(response.startDate);
                        $("#endDate").html(response.endDate);
                        $("#totalCredit").html(response.credits);
                        $("#totalDebit").html(response.debits);
                        $("#creditCount").html(response.cr_count);
                        $("#debitCounts").html(response.dr_count);
                        $("#unCollected").html(response.uncollected_funds);
                        $("#currencylabel").html("Bangladeshi Taka");

                    },
                    error: function(response) {
                        // console.log(response);
                        $("#verifyIconFail").show();
                    }
                });

                var txHash = getUrlParameter('txhash');

                // console.log(txHash);



                $("#verifyButton").click(function() {

                    $("#one").fadeIn(1237, function() {
                        $("#iconOne").fadeIn(300);
                        $("#two").fadeIn(1152, function() {
                            $("#iconTwo").fadeIn(350);
                            $("#three").fadeIn(1346, function() {
                                $("#iconThree").fadeIn(323);
                                $("#four").fadeIn(1390,
                                    function() {
                                        $("#iconFour").fadeIn(
                                            312);
                                        $("#five").fadeIn(
                                            1058,
                                            function() {
                                                $(
                                                        "#iconFive"
                                                    )
                                                    .fadeIn(
                                                        320
                                                    );
                                                $(
                                                        "#six"
                                                    )
                                                    .fadeIn(
                                                        1817,
                                                        function() {
                                                            $
                                                                (
                                                                    "#iconSix"
                                                                )
                                                                .fadeIn(
                                                                    300
                                                                );
                                                            $
                                                                (
                                                                    "#verifyIconSuccess"
                                                                )
                                                                .show();
                                                        }
                                                    );
                                            });
                                    });
                            });
                        });

                    });
                    // else {
                    //     $("#verifyIconFail").show();
                    // }
                    // },



                });
            });
        </script>

</body>

</html>